"use strict";(self.webpackChunkdharmas_cipher=self.webpackChunkdharmas_cipher||[]).push([[85],{85:(n,e,a)=>{a.r(e),a.d(e,{ChoiceButton:()=>Ee,ObjectiveText:()=>we,ObjectivesBanner:()=>Ae,default:()=>Ce});var r,i,t,o,s,d,l,c,p,g,f,x,b,m,u,h,v,y,A,w,k,j,z,E,P,S,T,I,R,$,C,L=a(555),G=a(528),H=a(43),M=a(464),Y=a(67),N=a(938),D=a(585),V=a(579);const O=(0,M.i7)(r||(r=(0,G.A)(["\n  0%, 100% { \n    box-shadow: \n      0 0 20px rgba(212, 175, 55, 0.4),\n      0 0 40px rgba(212, 175, 55, 0.2),\n      inset 0 0 20px rgba(212, 175, 55, 0.1);\n    border-color: rgba(212, 175, 55, 0.6);\n  }\n  50% { \n    box-shadow: \n      0 0 30px rgba(212, 175, 55, 0.7),\n      0 0 60px rgba(212, 175, 55, 0.4),\n      inset 0 0 30px rgba(212, 175, 55, 0.2);\n    border-color: rgba(212, 175, 55, 0.9);\n  }\n"]))),X=(0,M.i7)(i||(i=(0,G.A)(["\n  0% { \n    transform: perspective(1000px) rotateY(0deg);\n    box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);\n  }\n  50% { \n    transform: perspective(1000px) rotateY(-15deg);\n    box-shadow: 0 0 40px rgba(212, 175, 55, 0.6);\n  }\n  100% { \n    transform: perspective(1000px) rotateY(0deg);\n    box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);\n  }\n"]))),B=(0,M.i7)(t||(t=(0,G.A)(["\n  0% { \n    background-position: 0% 50%; \n  }\n  50% { \n    background-position: 100% 50%; \n  }\n  100% { \n    background-position: 200% 50%; \n  }\n"]))),_=(0,M.i7)(o||(o=(0,G.A)(["\n  0%, 100% {\n    background: linear-gradient(145deg, #d4af37, #ffd700);\n    box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);\n  }\n  50% {\n    background: linear-gradient(145deg, #ffd700, #ffed4e);\n    box-shadow: 0 0 25px rgba(255, 215, 0, 0.7);\n  }\n"]))),F=(0,M.Ay)(Y.P.div)(s||(s=(0,G.A)(["\n  background: \n    linear-gradient(145deg, rgba(10, 10, 10, 0.95) 0%, rgba(0, 0, 0, 0.98) 100%);\n  border: 3px solid #d4af37;\n  border-radius: 12px;\n  box-shadow: \n    0 15px 40px rgba(0, 0, 0, 0.8),\n    0 0 40px rgba(212, 175, 55, 0.3),\n    inset 0 1px 0 rgba(212, 175, 55, 0.2);\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n  animation: "," 8s ease-in-out infinite;\n  backdrop-filter: blur(10px);\n  \n  /* Ancient book binding decoration */\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 10%;\n    bottom: 10%;\n    width: 10px;\n    background: linear-gradient(to bottom, \n      #d4af37 0%, \n      #ffd700 25%, \n      #d4af37 50%, \n      #ffd700 75%, \n      #d4af37 100%\n    );\n    border-radius: 0 5px 5px 0;\n    box-shadow: \n      inset 1px 0 2px rgba(0, 0, 0, 0.3),\n      0 0 15px rgba(212, 175, 55, 0.6);\n    z-index: 5;\n  }\n  \n  /* Binding rivets with breathing glow */\n  &::after {\n    content: '';\n    position: absolute;\n    left: 3px;\n    top: 20%;\n    width: 4px;\n    height: 4px;\n    background: #ffd700;\n    border-radius: 50%;\n    box-shadow: \n      0 20% 0 #ffd700,\n      0 40% 0 #ffd700,\n      0 60% 0 #ffd700,\n      0 0 10px rgba(255, 215, 0, 0.8);\n    z-index: 6;\n    animation: "," 4s ease-in-out infinite;\n  }\n"])),O,O),J=M.Ay.div(d||(d=(0,G.A)(["\n  padding: var(--spacing-lg) var(--spacing-lg) 0;\n  text-align: center;\n  border-bottom: 2px solid #d4af37;\n  margin-bottom: var(--spacing-md);\n  position: relative;\n  background: \n    linear-gradient(145deg, rgba(15, 15, 15, 0.9) 0%, rgba(5, 5, 5, 0.95) 100%);\n  \n  /* Decorative corner flourishes */\n  &::before, &::after {\n    content: '\u2766';\n    position: absolute;\n    top: var(--spacing-sm);\n    font-size: 1rem;\n    color: #d4af37;\n    opacity: 0.7;\n    animation: "," 6s ease-in-out infinite;\n  }\n  \n  &::before {\n    left: var(--spacing-md);\n    animation-delay: 0s;\n  }\n  \n  &::after {\n    right: var(--spacing-md);\n    animation-delay: 3s;\n  }\n"])),O),U=M.Ay.h2(l||(l=(0,G.A)(["\n  font-family: var(--font-display);\n  color: #d4af37;\n  font-size: 1.8rem;\n  margin-bottom: var(--spacing-md);\n  text-shadow: 0 0 15px rgba(212, 175, 55, 0.6);\n  \n  &::before, &::after {\n    content: '\u2726';\n    color: #ffd700;\n    font-size: 1rem;\n    opacity: 0.8;\n    margin: 0 var(--spacing-sm);\n    animation: "," 3s ease-in-out infinite;\n  }\n"])),O),W=M.Ay.div(c||(c=(0,G.A)(["\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: var(--spacing-md);\n  background: \n    linear-gradient(145deg, rgba(0, 0, 0, 0.7) 0%, rgba(10, 10, 10, 0.9) 100%);\n  border-radius: 8px;\n  padding: var(--spacing-xs);\n  margin: 0 var(--spacing-sm) var(--spacing-md);\n  border: 1px solid rgba(212, 175, 55, 0.3);\n"]))),K=(0,M.Ay)(Y.P.button)(p||(p=(0,G.A)(["\n  background: ",";\n  color: ",";\n  border: none;\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: 6px;\n  font-family: var(--font-primary);\n  font-size: 0.9rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  flex: 1;\n  text-align: center;\n  position: relative;\n  overflow: hidden;\n  \n  ","\n  \n  /* Golden energy sweep effect */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, \n      transparent, \n      rgba(212, 175, 55, 0.3), \n      transparent\n    );\n    transition: left 0.3s ease;\n  }\n  \n  &:hover {\n    background: ",";\n    color: ",";\n    text-shadow: ",";\n    \n    &::before {\n      left: 100%;\n    }\n  }\n"])),n=>n.$active?"linear-gradient(145deg, #d4af37, #ffd700)":"transparent",n=>n.$active?"#000":"#d4af37",n=>n.$active&&"\n    animation: ".concat(_," 4s ease-in-out infinite;\n    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n  "),n=>n.$active?"linear-gradient(145deg, #ffd700, #ffed4e)":"rgba(212, 175, 55, 0.2)",n=>n.$active?"#000":"#ffd700",n=>n.$active?"1px 1px 2px rgba(0, 0, 0, 0.6)":"0 0 10px rgba(255, 215, 0, 0.6)"),q=(0,M.Ay)(Y.P.div)(g||(g=(0,G.A)(["\n  flex: 1;\n  padding: 0 var(--spacing-lg) var(--spacing-lg);\n  overflow-y: auto;\n  position: relative;\n  animation: "," 0.6s ease-in-out;\n  \n  /* Golden journal lines background */\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: var(--spacing-xl);\n    right: var(--spacing-lg);\n    bottom: 0;\n    background-image: repeating-linear-gradient(\n      transparent,\n      transparent 1.5rem,\n      rgba(212, 175, 55, 0.15) 1.5rem,\n      rgba(212, 175, 55, 0.15) calc(1.5rem + 1px)\n    );\n    pointer-events: none;\n    z-index: 1;\n    opacity: 0.6;\n  }\n  \n  /* Golden scrollbar */\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: rgba(0, 0, 0, 0.5);\n    border-radius: 3px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(to bottom, #d4af37, #ffd700, #d4af37);\n    border-radius: 3px;\n    box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);\n  }\n"])),X),Q=M.Ay.div(f||(f=(0,G.A)(["\n  position: relative;\n  z-index: 10;\n"]))),Z=M.Ay.div(x||(x=(0,G.A)(["\n  text-align: center;\n  margin-bottom: var(--spacing-lg);\n"]))),nn=M.Ay.h3(b||(b=(0,G.A)(["\n  font-family: var(--font-display);\n  color: #d4af37;\n  font-size: 1.4rem;\n  margin-bottom: var(--spacing-md);\n  text-shadow: 0 0 15px rgba(212, 175, 55, 0.6);\n"]))),en=M.Ay.div(m||(m=(0,G.A)(["\n  background: \n    linear-gradient(145deg, rgba(212, 175, 55, 0.1) 0%, rgba(255, 107, 53, 0.05) 100%);\n  border: 1px solid rgba(212, 175, 55, 0.4);\n  border-radius: 8px;\n  padding: var(--spacing-md);\n  margin-bottom: var(--spacing-md);\n  position: relative;\n  backdrop-filter: blur(5px);\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: linear-gradient(90deg, \n      transparent 0%, \n      #d4af37 50%, \n      transparent 100%\n    );\n    animation: "," 4s linear infinite;\n  }\n"])),B),an=M.Ay.p(u||(u=(0,G.A)(["\n  font-family: var(--font-primary);\n  color: #b8941f;\n  font-weight: 600;\n  margin: 0 0 var(--spacing-xs);\n  font-size: 0.9rem;\n  text-shadow: 0 0 5px rgba(184, 148, 31, 0.4);\n"]))),rn=M.Ay.p(h||(h=(0,G.A)(["\n  font-family: var(--font-display);\n  color: #d4af37;\n  margin: 0;\n  font-size: 1.1rem;\n  text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);\n"]))),tn=M.Ay.div(v||(v=(0,G.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n"]))),on=(0,M.Ay)(Y.P.div)(y||(y=(0,G.A)(["\n  background: \n    linear-gradient(145deg, rgba(0, 0, 0, 0.8) 0%, rgba(15, 15, 15, 0.9) 100%);\n  border: 1px solid rgba(212, 175, 55, 0.4);\n  border-radius: 8px;\n  padding: var(--spacing-md);\n  position: relative;\n  backdrop-filter: blur(5px);\n  \n  &::before {\n    content: '\ud83d\udccb';\n    position: absolute;\n    left: var(--spacing-sm);\n    top: var(--spacing-sm);\n    font-size: 1.1rem;\n    filter: drop-shadow(0 0 5px rgba(212, 175, 55, 0.5));\n  }\n"]))),sn=M.Ay.p(A||(A=(0,G.A)(["\n  font-family: var(--font-primary);\n  color: #d4af37;\n  margin: 0;\n  margin-left: 30px;\n  font-size: 0.95rem;\n  line-height: 1.4;\n  text-shadow: 0 0 8px rgba(212, 175, 55, 0.4);\n"]))),dn=M.Ay.div(w||(w=(0,G.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-lg);\n"]))),ln=(0,M.Ay)(Y.P.div)(k||(k=(0,G.A)(["\n  border-bottom: 1px solid rgba(212, 175, 55, 0.3);\n  padding-bottom: var(--spacing-md);\n  position: relative;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 3px;\n    height: 100%;\n    background: linear-gradient(to bottom, \n      transparent, \n      #d4af37, \n      transparent\n    );\n    opacity: 0.5;\n  }\n"]))),cn=M.Ay.h4(j||(j=(0,G.A)(["\n  font-family: var(--font-display);\n  color: #d4af37;\n  font-size: 1.1rem;\n  margin-bottom: var(--spacing-sm);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);\n  margin-left: var(--spacing-sm);\n  \n  &::before {\n    content: '\ud83d\udd0d';\n    font-size: 1rem;\n    filter: drop-shadow(0 0 8px rgba(212, 175, 55, 0.6));\n  }\n"]))),pn=M.Ay.p(z||(z=(0,G.A)(["\n  font-family: var(--font-primary);\n  color: #b8941f;\n  margin: 0;\n  font-size: 0.9rem;\n  line-height: 1.5;\n  font-style: italic;\n  margin-left: var(--spacing-sm);\n  text-shadow: 0 0 5px rgba(184, 148, 31, 0.3);\n"]))),gn=M.Ay.div(E||(E=(0,G.A)(["\n  margin-top: var(--spacing-sm);\n  margin-left: var(--spacing-sm);\n  padding: var(--spacing-sm);\n  border: 1px solid rgba(212, 175, 55, 0.4);\n  border-radius: 6px;\n  background: \n    linear-gradient(145deg, rgba(212, 175, 55, 0.05) 0%, rgba(0, 0, 0, 0.8) 100%);\n  text-align: center;\n  font-size: 2rem;\n  opacity: 0.8;\n  filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.3));\n"]))),fn=M.Ay.div(P||(P=(0,G.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-lg);\n"]))),xn=(0,M.Ay)(Y.P.div)(S||(S=(0,G.A)(["\n  aspect-ratio: 1;\n  background: \n    linear-gradient(145deg, rgba(0, 0, 0, 0.8) 0%, rgba(15, 15, 15, 0.9) 100%);\n  border: 2px solid ",";\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: ",";\n  font-size: 1.5rem;\n  transition: all 0.3s ease;\n  position: relative;\n  backdrop-filter: blur(5px);\n  \n  ","\n  \n  &:hover {\n    background: ",";\n    transform: ",";\n    border-color: ",";\n  }\n"])),n=>n.$hasItem?"#d4af37":"rgba(212, 175, 55, 0.3)",n=>n.$hasItem?"pointer":"default",n=>n.$hasItem&&"\n    animation: ".concat(O," 6s ease-in-out infinite;\n    filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.4));\n  "),n=>n.$hasItem?"linear-gradient(145deg, rgba(212, 175, 55, 0.2) 0%, rgba(255, 107, 53, 0.1) 100%)":"rgba(212, 175, 55, 0.1)",n=>n.$hasItem?"scale(1.05)":"none",n=>n.$hasItem?"#ffd700":"rgba(212, 175, 55, 0.5)"),bn=(0,M.Ay)(Y.P.div)(T||(T=(0,G.A)(["\n  background: \n    linear-gradient(145deg, rgba(5, 5, 5, 0.95) 0%, rgba(15, 15, 15, 0.9) 100%);\n  border: 2px solid #d4af37;\n  border-radius: 10px;\n  padding: var(--spacing-lg);\n  margin-top: var(--spacing-md);\n  backdrop-filter: blur(10px);\n  animation: "," 4s ease-in-out infinite;\n"])),O),mn=M.Ay.h4(I||(I=(0,G.A)(["\n  font-family: var(--font-display);\n  color: #d4af37;\n  font-size: 1.2rem;\n  margin-bottom: var(--spacing-sm);\n  text-align: center;\n  text-shadow: 0 0 15px rgba(212, 175, 55, 0.6);\n"]))),un=M.Ay.p(R||(R=(0,G.A)(["\n  font-family: var(--font-primary);\n  color: #b8941f;\n  font-size: 0.9rem;\n  line-height: 1.5;\n  font-style: italic;\n  margin: 0;\n  text-shadow: 0 0 5px rgba(184, 148, 31, 0.3);\n"]))),hn=M.Ay.div($||($=(0,G.A)(["\n  text-align: center;\n  padding: var(--spacing-xl);\n  opacity: 0.6;\n"]))),vn=M.Ay.p(C||(C=(0,G.A)(["\n  font-family: var(--font-primary);\n  color: #d4af37;\n  font-style: italic;\n  margin: 0;\n  text-shadow: 0 0 10px rgba(212, 175, 55, 0.4);\n"])));function yn(n){let{isVisible:e=!0}=n;const{state:a}=(0,D.Im)(),[r,i]=(0,H.useState)("profile"),[t,o]=(0,H.useState)(null),{playerProfile:s,gameProgress:d,inventory:l}=a;return e?(0,V.jsxs)(F,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8},children:[(0,V.jsxs)(J,{children:[(0,V.jsx)(U,{children:"Sacred Journal"}),(0,V.jsx)(W,{children:[{id:"profile",label:"Self",icon:"\ud83d\udc64"},{id:"objectives",label:"Tasks",icon:"\ud83d\udccb"},{id:"clues",label:"Clues",icon:"\ud83d\udd0d"},{id:"inventory",label:"Items",icon:"\ud83c\udf92"}].map(n=>(0,V.jsxs)(K,{$active:r===n.id,onClick:()=>{i(n.id),o(null)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[n.icon," ",n.label]},n.id))})]}),(0,V.jsx)(q,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(()=>{var n;switch(r){case"profile":return(0,V.jsxs)(Q,{children:[(0,V.jsxs)(Z,{children:[(0,V.jsx)(nn,{children:"\u0100tman Vivara\u1e47a"}),s.primaryGuna&&(0,V.jsxs)(en,{children:[(0,V.jsx)(an,{children:"Primary Gu\u1e47a"}),(0,V.jsx)(rn,{children:"SATTVA"===s.primaryGuna?"Sattva (The Sage)":"RAJAS"===s.primaryGuna?"Rajas (The Scion)":"Tamas (The Shadow)"})]}),s.primaryGana&&(0,V.jsxs)(en,{children:[(0,V.jsx)(an,{children:"Primary Ga\u1e47a"}),(0,V.jsx)(rn,{children:"DEVA"===s.primaryGana?"Deva (The Divine)":"MANUSHYA"===s.primaryGana?"Manushya (The Human)":"Rakshasa (The Fierce)"})]}),s.nakshatra&&(0,V.jsxs)(en,{children:[(0,V.jsx)(an,{children:"Janma Nakshatra"}),(0,V.jsx)(rn,{children:s.nakshatra.name})]}),s.rashi&&(0,V.jsxs)(en,{children:[(0,V.jsx)(an,{children:"Rashi"}),(0,V.jsxs)(rn,{children:[s.rashi," (",null===(n=s.nakshatra)||void 0===n?void 0:n.element,")"]})]})]}),s.skills&&s.skills.length>0&&(0,V.jsxs)("div",{children:[(0,V.jsx)(nn,{children:"Sacred Abilities"}),s.skills.map((n,e)=>(0,V.jsxs)(en,{children:[(0,V.jsx)(an,{children:n.name}),(0,V.jsx)(pn,{children:n.description})]},e))]})]});case"objectives":return(0,V.jsx)(Q,{children:(0,V.jsx)(tn,{children:d.currentObjectives.length>0?d.currentObjectives.map((n,e)=>(0,V.jsx)(on,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.1*e},children:(0,V.jsx)(sn,{children:n.text})},n.id)):(0,V.jsx)(hn,{children:(0,V.jsx)(vn,{children:"Your sacred path awaits revelation..."})})})});case"clues":return(0,V.jsx)(Q,{children:(0,V.jsx)(dn,{children:l.clues.length>0?l.clues.map((n,e)=>(0,V.jsxs)(ln,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1*e},children:[(0,V.jsx)(cn,{children:n.title}),(0,V.jsx)(pn,{children:n.description}),n.sketch&&(0,V.jsx)(gn,{children:n.sketch})]},n.id)):(0,V.jsx)(hn,{children:(0,V.jsx)(vn,{children:"The mysteries await your discovery..."})})})});case"inventory":return(0,V.jsxs)(Q,{children:[(0,V.jsx)(fn,{children:Array.from({length:12},(n,e)=>{const a=l.items[e];return(0,V.jsx)(xn,{$hasItem:!!a,onClick:()=>a&&o(a),whileHover:{scale:a?1.05:1},whileTap:{scale:a?.95:1},children:a?a.icon:"\u2205"},e)})}),(0,V.jsx)(N.N,{children:t&&(0,V.jsxs)(bn,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4},children:[(0,V.jsx)(mn,{children:t.name}),(0,V.jsx)(un,{children:t.lore})]})}),0===l.items.length&&(0,V.jsx)(hn,{children:(0,V.jsx)(vn,{children:"Sacred artifacts will manifest here..."})})]});default:return null}})()},r)]}):null}var An,wn,kn,jn,zn,En,Pn,Sn,Tn,In,Rn,$n,Cn,Ln,Gn,Hn,Mn,Yn,Nn,Dn,Vn,On,Xn,Bn,_n,Fn,Jn,Un,Wn,Kn;const qn=(0,H.lazy)(()=>a.e(414).then(a.bind(a,414))),Qn=(0,H.lazy)(()=>a.e(975).then(a.bind(a,975))),Zn=(0,H.lazy)(()=>a.e(116).then(a.bind(a,116))),ne=(0,H.lazy)(()=>a.e(923).then(a.bind(a,923))),ee=(0,H.lazy)(()=>a.e(124).then(a.bind(a,124))),ae=(0,M.i7)(An||(An=(0,G.A)(["\n  0%, 100% {\n    box-shadow:\n      0 0 20px rgba(212, 175, 55, 0.4),\n      0 0 40px rgba(212, 175, 55, 0.2),\n      inset 0 0 20px rgba(212, 175, 55, 0.1);\n    border-color: rgba(212, 175, 55, 0.6);\n  }\n  50% {\n    box-shadow:\n      0 0 30px rgba(212, 175, 55, 0.7),\n      0 0 60px rgba(212, 175, 55, 0.4),\n      inset 0 0 30px rgba(212, 175, 55, 0.2);\n    border-color: rgba(212, 175, 55, 0.9);\n  }\n"]))),re=(0,M.i7)(wn||(wn=(0,G.A)(["\n  0% {\n    background-position: 0% 50%;\n    opacity: 0.8;\n  }\n  50% {\n    background-position: 100% 50%;\n    opacity: 1;\n  }\n  100% {\n    background-position: 200% 50%;\n    opacity: 0.8;\n  }\n"]))),ie=(0,M.i7)(kn||(kn=(0,G.A)(["\n  0% {\n    transform: translateX(-100%) scaleX(0);\n    opacity: 0;\n  }\n  50% {\n    transform: translateX(0%) scaleX(1);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(100%) scaleX(0);\n    opacity: 0;\n  }\n"]))),te=(0,M.i7)(jn||(jn=(0,G.A)(["\n  0%, 100% {\n    border-color: rgba(212, 175, 55, 0.4);\n    background:\n      linear-gradient(145deg, rgba(0, 0, 0, 0.9) 0%, rgba(15, 15, 15, 0.95) 100%);\n  }\n  50% {\n    border-color: rgba(212, 175, 55, 0.7);\n    background:\n      linear-gradient(145deg, rgba(10, 10, 10, 0.85) 0%, rgba(20, 20, 20, 0.9) 100%);\n  }\n"]))),oe=(0,M.Ay)(Y.P.div)(zn||(zn=(0,G.A)(["\n  position: fixed;\n  inset: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.95);\n  z-index: 999;\n  padding: var(--spacing-lg);\n  backdrop-filter: blur(10px);\n"]))),se=(0,M.Ay)(Y.P.div)(En||(En=(0,G.A)(["\n  width: 100%;\n  max-width: 500px;\n  height: 80vh;\n"]))),de=M.Ay.div(Pn||(Pn=(0,G.A)(["\n  min-height: 100vh;\n  background:\n    radial-gradient(ellipse at center, rgba(5, 5, 5, 0.9) 0%, rgba(0, 0, 0, 1) 70%),\n    linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #000000 100%);\n  display: grid;\n  grid-template-columns: 1fr 350px;\n  grid-template-rows: 1fr auto;\n  gap: var(--spacing-lg);\n  padding: var(--spacing-lg);\n  position: relative;\n  overflow: hidden;\n\n  /* Mystical background pattern */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background:\n      radial-gradient(circle at 20% 30%, rgba(212, 175, 55, 0.03) 1px, transparent 2px),\n      radial-gradient(circle at 80% 70%, rgba(212, 175, 55, 0.02) 1px, transparent 2px);\n    background-size: 100px 100px, 150px 150px;\n    animation: "," 12s ease-in-out infinite;\n    pointer-events: none;\n    z-index: 1;\n  }\n\n  @media (max-width: 1024px) {\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr auto 60px;\n  }\n"])),ae),le=M.Ay.div(Sn||(Sn=(0,G.A)(["\n  grid-column: 1;\n  grid-row: 1 / -1;\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n  position: relative;\n  z-index: 10;\n\n  @media (max-width: 1024px) {\n    grid-row: 1;\n  }\n"]))),ce=(0,M.Ay)(Y.P.div)(Tn||(Tn=(0,G.A)(["\n  background:\n    linear-gradient(145deg, rgba(0, 0, 0, 0.9) 0%, rgba(15, 15, 15, 0.95) 100%);\n  border: 3px solid #d4af37;\n  border-radius: 15px;\n  box-shadow:\n    0 15px 40px rgba(0, 0, 0, 0.8),\n    0 0 40px rgba(212, 175, 55, 0.3),\n    inset 0 1px 0 rgba(212, 175, 55, 0.2);\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n  backdrop-filter: blur(10px);\n  animation: "," 8s ease-in-out infinite;\n\n  /* Golden filigree border pattern */\n  &::before {\n    content: '';\n    position: absolute;\n    top: -2px;\n    left: -2px;\n    right: -2px;\n    bottom: -2px;\n    background:\n      linear-gradient(45deg,\n        #d4af37 0%,\n        transparent 25%,\n        #ffd700 50%,\n        transparent 75%,\n        #d4af37 100%\n      );\n    background-size: 30px 30px;\n    border-radius: 15px;\n    z-index: -1;\n    opacity: 0.2;\n    animation: "," 8s linear infinite;\n  }\n\n  /* Manuscript-style ruling lines */\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-image: repeating-linear-gradient(\n      transparent,\n      transparent 1.5rem,\n      rgba(212, 175, 55, 0.1) 1.5rem,\n      rgba(212, 175, 55, 0.1) calc(1.5rem + 1px)\n    );\n    pointer-events: none;\n    z-index: 1;\n    opacity: 0.3;\n  }\n"])),te,re),pe=M.Ay.div(In||(In=(0,G.A)(["\n  padding: var(--spacing-xl);\n  position: relative;\n  z-index: 10;\n  height: 100%;\n  overflow-y: hidden;\n"]))),ge=M.Ay.div(Rn||(Rn=(0,G.A)(["\n  position: fixed;\n  top: calc(var(--spacing-lg) + 70px);\n  right: var(--spacing-lg);\n  width: 180px;\n  height: 140px;\n  background: linear-gradient(145deg, rgba(0,0,0,0.85), rgba(15,15,15,0.95));\n  border: 3px solid #d4af37;\n  border-radius: 14px;\n  overflow: hidden;\n  box-shadow: 0 10px 30px rgba(0,0,0,0.7), 0 0 24px rgba(212,175,55,0.25);\n  z-index: 150;\n\n  &::before {\n    content: '';\n    position: absolute;\n    inset: 6px;\n    border-radius: 10px;\n    background:\n      radial-gradient(circle at 15% 25%, rgba(212,175,55,0.12) 1px, transparent 2px),\n      radial-gradient(circle at 65% 70%, rgba(212,175,55,0.08) 1px, transparent 2px),\n      repeating-linear-gradient(90deg, rgba(212,175,55,0.08) 0 2px, transparent 2px 10px),\n      repeating-linear-gradient(0deg, rgba(212,175,55,0.05) 0 2px, transparent 2px 10px);\n    pointer-events: none;\n  }\n"]))),fe=M.Ay.div($n||($n=(0,G.A)(["\n  position: fixed;\n  bottom: var(--spacing-lg);\n  left: 50%;\n  transform: translateX(-50%);\n  display: grid;\n  grid-template-columns: repeat(6, 56px);\n  gap: 10px;\n  background: linear-gradient(145deg, rgba(0,0,0,0.85), rgba(15,15,15,0.95));\n  border: 2px solid #d4af37;\n  border-radius: 14px;\n  padding: 10px 12px;\n  box-shadow: 0 10px 28px rgba(0,0,0,0.7), 0 0 20px rgba(212,175,55,0.25);\n  z-index: 180;\n"]))),xe=M.Ay.div(Cn||(Cn=(0,G.A)(["\n  width: 56px;\n  height: 56px;\n  border: 2px solid ",";\n  border-radius: 10px;\n  background: linear-gradient(145deg, rgba(0,0,0,0.7), rgba(10,10,10,0.85));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #d4af37;\n  font-size: 1.4rem;\n  position: relative;\n  overflow: hidden;\n  ","\n"])),n=>n.$active?"#ffd700":"rgba(212, 175, 55, 0.4)",n=>n.$active&&"animation: ".concat(ae," 6s ease-in-out infinite;")),be=M.Ay.span(Ln||(Ln=(0,G.A)(["\n  position: absolute;\n  bottom: 4px;\n  right: 6px;\n  font-family: var(--font-display);\n  font-size: 0.7rem;\n  background: linear-gradient(145deg, #d4af37, #ffd700);\n  color: #000;\n  padding: 1px 4px;\n  border-radius: 6px;\n"]))),me=M.Ay.div(Gn||(Gn=(0,G.A)(["\n  position: fixed;\n  transform: translate(-50%, calc(-100% - 10px));\n  background: linear-gradient(145deg, rgba(0,0,0,0.92), rgba(15,15,15,0.98));\n  border: 1px solid rgba(212,175,55,0.6);\n  color: #d4af37;\n  font-family: var(--font-primary);\n  font-size: 0.85rem;\n  padding: 6px 10px;\n  border-radius: 8px;\n  box-shadow: 0 6px 18px rgba(0,0,0,0.6), 0 0 16px rgba(212,175,55,0.25);\n  pointer-events: none;\n  z-index: 2000;\n  left: ","px;\n  top: ","px;\n"])),n=>n.$x,n=>n.$y),ue=M.Ay.div(Hn||(Hn=(0,G.A)(["\n  position: fixed;\n  top: var(--spacing-lg);\n  left: var(--spacing-lg);\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n  z-index: 200;\n"]))),he=M.Ay.div(Mn||(Mn=(0,G.A)(["\n  width: 260px;\n  height: 22px;\n  background: linear-gradient(145deg, rgba(0,0,0,0.85), rgba(20,20,20,0.95));\n  border: 2px solid #d4af37;\n  border-radius: 12px;\n  box-shadow: 0 6px 16px rgba(0,0,0,0.6), 0 0 16px rgba(212,175,55,0.2);\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    position: absolute;\n    inset: 3px;\n    border-radius: 9px;\n    background: repeating-linear-gradient(90deg, rgba(212,175,55,0.15) 0 4px, transparent 4px 10px);\n    pointer-events: none;\n  }\n"]))),ve=M.Ay.div(Yn||(Yn=(0,G.A)(["\n  height: 100%;\n  width: ","%;\n  background: linear-gradient(90deg, #d4af37, #ffd700, #d4af37);\n  background-size: 200% 100%;\n  animation: "," 3s linear infinite;\n  border-radius: 10px;\n"])),n=>n.$value,re),ye=M.Ay.span(Nn||(Nn=(0,G.A)(["\n  position: absolute;\n  top: 50%;\n  left: 12px;\n  transform: translateY(-50%);\n  font-family: var(--font-display);\n  color: #000;\n  background: linear-gradient(145deg, #d4af37, #ffd700);\n  padding: 2px 8px;\n  border-radius: 8px;\n  font-size: 0.8rem;\n"]))),Ae=(0,M.Ay)(Y.P.div)(Dn||(Dn=(0,G.A)(["\n  background:\n    linear-gradient(145deg, rgba(212, 175, 55, 0.1) 0%, rgba(255, 107, 53, 0.05) 100%);\n  border: 2px solid #d4af37;\n  border-radius: 10px;\n  padding: var(--spacing-md) var(--spacing-lg);\n  margin-bottom: var(--spacing-lg);\n  position: relative;\n  backdrop-filter: blur(5px);\n  animation: "," 6s ease-in-out infinite;\n\n  /* Objective icon with golden glow */\n  &::before {\n    content: '\ud83c\udfaf';\n    position: absolute;\n    left: var(--spacing-md);\n    top: 50%;\n    transform: translateY(-50%);\n    font-size: 1.3rem;\n    filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.6));\n  }\n\n  /* Golden energy trail */\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: linear-gradient(90deg,\n      transparent 0%,\n      #d4af37 50%,\n      transparent 100%\n    );\n    animation: "," 3s ease-in-out infinite;\n  }\n"])),ae,ie),we=M.Ay.h3(Vn||(Vn=(0,G.A)(["\n  font-family: var(--font-primary);\n  color: #d4af37;\n  margin: 0;\n  margin-left: 45px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);\n"]))),ke=(0,M.Ay)(Y.P.div)(On||(On=(0,G.A)(["\n  background:\n    linear-gradient(145deg, rgba(0, 0, 0, 0.95) 0%, rgba(10, 10, 10, 0.98) 100%);\n  border: 2px solid #d4af37;\n  border-radius: 12px;\n  padding: var(--spacing-lg);\n  min-height: 150px;\n  backdrop-filter: blur(15px);\n  box-shadow:\n    0 10px 30px rgba(0, 0, 0, 0.8),\n    0 0 30px rgba(212, 175, 55, 0.2);\n  position: relative;\n  animation: "," 10s ease-in-out infinite;\n\n  /* Decorative corner ornaments */\n  &::before, &::after {\n    content: '\u2766';\n    position: absolute;\n    top: var(--spacing-sm);\n    font-size: 1.2rem;\n    color: #d4af37;\n    opacity: 0.7;\n    animation: "," 4s ease-in-out infinite;\n  }\n\n  &::before {\n    left: var(--spacing-sm);\n    animation-delay: 0s;\n  }\n\n  &::after {\n    right: var(--spacing-sm);\n    animation-delay: 2s;\n  }\n"])),te,ae),je=M.Ay.h3(Xn||(Xn=(0,G.A)(["\n  font-family: var(--font-display);\n  color: #d4af37;\n  font-size: 1.3rem;\n  margin-bottom: var(--spacing-md);\n  text-align: center;\n  text-shadow: 0 0 15px rgba(212, 175, 55, 0.6);\n"]))),ze=M.Ay.div(Bn||(Bn=(0,G.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n"]))),Ee=(0,M.Ay)(Y.P.button)(_n||(_n=(0,G.A)(["\n  background:\n    linear-gradient(145deg, rgba(0, 0, 0, 0.8) 0%, rgba(15, 15, 15, 0.9) 100%);\n  border: 1px solid #d4af37;\n  border-radius: 8px;\n  padding: var(--spacing-md) var(--spacing-lg);\n  color: #d4af37;\n  font-family: var(--font-primary);\n  font-size: 1rem;\n  text-align: left;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  backdrop-filter: blur(5px);\n\n  /* Golden energy bar on the left */\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 4px;\n    height: 100%;\n    background: linear-gradient(to bottom, transparent, #d4af37, transparent);\n    transform: scaleY(0);\n    transition: transform 0.3s ease;\n  }\n\n  /* Golden trail effect */\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg,\n      transparent,\n      rgba(212, 175, 55, 0.2),\n      transparent\n    );\n    transition: left 0.5s ease;\n  }\n\n  &:hover {\n    background:\n      linear-gradient(145deg, rgba(212, 175, 55, 0.1) 0%, rgba(255, 215, 0, 0.2) 100%);\n    border-color: #ffd700;\n    color: #ffd700;\n    animation: "," 2s infinite;\n    text-shadow: 0 0 10px rgba(255, 215, 0, 0.6);\n\n    &::before {\n      transform: scaleY(1);\n    }\n\n    &::after {\n      left: 100%;\n    }\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n\n    &:hover {\n      animation: none;\n      border-color: #d4af37;\n      color: #d4af37;\n      text-shadow: none;\n\n      &::before {\n        transform: scaleY(0);\n      }\n\n      &::after {\n        left: -100%;\n      }\n    }\n  }\n"])),ae),Pe=(0,M.Ay)(Y.P.div)(Fn||(Fn=(0,G.A)(["\n  grid-column: 2;\n  grid-row: 1 / -1;\n  position: relative;\n  z-index: 10;\n\n  @media (max-width: 1024px) {\n    grid-column: 1;\n    grid-row: 2;\n    height: 300px;\n  }\n"]))),Se=(0,M.Ay)(Y.P.button)(Jn||(Jn=(0,G.A)(["\n  position: fixed;\n  top: var(--spacing-lg);\n  right: var(--spacing-lg);\n  width: 60px;\n  height: 60px;\n  background:\n    radial-gradient(circle, #d4af37 0%, #ffd700 50%, #d4af37 100%);\n  border: 2px solid #d4af37;\n  border-radius: 50%;\n  color: #000;\n  font-size: 1.5rem;\n  cursor: pointer;\n  box-shadow:\n    0 6px 20px rgba(212, 175, 55, 0.4),\n    0 0 30px rgba(212, 175, 55, 0.3);\n  z-index: 1000;\n  display: none;\n  backdrop-filter: blur(10px);\n  animation: "," 4s ease-in-out infinite;\n\n  @media (max-width: 1024px) {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  &:hover {\n    background:\n      radial-gradient(circle, #ffd700 0%, #ffed4e 50%, #ffd700 100%);\n    transform: scale(1.1);\n    box-shadow:\n      0 8px 25px rgba(255, 215, 0, 0.6),\n      0 0 40px rgba(255, 215, 0, 0.5);\n  }\n"])),ae),Te=(0,M.Ay)(Y.P.div)(Un||(Un=(0,G.A)(["\n  position: fixed;\n  bottom: var(--spacing-lg);\n  left: var(--spacing-lg);\n  background:\n    linear-gradient(145deg, rgba(0, 0, 0, 0.95) 0%, rgba(15, 15, 15, 0.98) 100%);\n  border: 2px solid #d4af37;\n  border-radius: 10px;\n  padding: var(--spacing-md);\n  backdrop-filter: blur(15px);\n  z-index: 100;\n  box-shadow:\n    0 10px 30px rgba(0, 0, 0, 0.8),\n    0 0 20px rgba(212, 175, 55, 0.3);\n  animation: "," 3s ease-in-out infinite;\n"])),ae),Ie=M.Ay.p(Wn||(Wn=(0,G.A)(["\n  font-family: var(--font-primary);\n  color: #d4af37;\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  text-shadow: 0 0 10px rgba(212, 175, 55, 0.6);\n"]))),Re=M.Ay.div(Kn||(Kn=(0,G.A)(["\n  padding: var(--spacing-xl);\n  color: #d4af37;\n"])));function $e(n){let{currentScene:e}=n;switch(e){case D.IL.DASHASHWAMEDH_GHAT:return(0,V.jsx)(qn,{});case D.IL.LABYRINTH_GHATS:return(0,V.jsx)(Qn,{});case D.IL.NYAYA_TRIAL:return(0,V.jsx)(Zn,{});case D.IL.VAISESIKA_TRIAL:return(0,V.jsx)(ne,{});case D.IL.THE_WARDEN:return(0,V.jsx)(ee,{});default:return(0,V.jsx)(qn,{})}}function Ce(){const{state:n}=(0,D.Im)(),[e,a]=(0,H.useState)(!1),[r,i]=(0,H.useState)(null),[t,o]=(0,H.useState)({visible:!1,text:"",x:0,y:0}),{currentScene:s,sceneData:d,playerProfile:l,inventory:c}=n;(0,H.useEffect)(()=>{if(l.skills&&l.skills.length>0){const n=setTimeout(()=>{i(l.skills[0]),setTimeout(()=>i(null),4e3)},2e3);return()=>clearTimeout(n)}},[s,l.skills]);const p=()=>{a(!e)},g=(n,e)=>{o({visible:!0,text:n,x:e.clientX,y:e.clientY})},f=()=>o(n=>(0,L.A)((0,L.A)({},n),{},{visible:!1}));return(0,V.jsxs)(de,{children:[(0,V.jsx)(ge,{}),(0,V.jsxs)(ue,{children:[(0,V.jsxs)(he,{children:[(0,V.jsx)(ve,{$value:82}),(0,V.jsx)(ye,{children:"VITAL"})]}),(0,V.jsxs)(he,{children:[(0,V.jsx)(ve,{$value:65}),(0,V.jsx)(ye,{children:"AETHER"})]})]}),(0,V.jsxs)(le,{children:[(0,V.jsx)(ce,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},children:(0,V.jsx)(pe,{children:(0,V.jsx)(H.Suspense,{fallback:(0,V.jsx)(Re,{children:"Summoning scene\u2026"}),children:(0,V.jsx)($e,{currentScene:s})})})}),d.choices.length>0&&(0,V.jsxs)(ke,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,V.jsx)(je,{children:"Choose Your Path"}),(0,V.jsx)(ze,{children:(0,V.jsx)(N.N,{children:d.choices.map((n,e)=>(0,V.jsx)(Ee,{className:"is-interactive",onClick:()=>(n=>{console.log("Choice selected:",n)})(n),onMouseEnter:n=>g("Select to proceed",n),onMouseLeave:f,initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.1*e},whileHover:{scale:1.02},whileTap:{scale:.98},children:n.text},n.id))})})]})]}),(0,V.jsx)(fe,{children:Array.from({length:6},(n,e)=>{const a=c.items[e];return(0,V.jsxs)(xe,{$active:!!a,className:a?"is-interactive":"",onMouseEnter:n=>a&&g(a.name,n),onMouseLeave:f,children:[a?a.icon:"\u2205",(0,V.jsx)(be,{children:e+1})]},e)})}),t.visible&&(0,V.jsx)(me,{$x:t.x,$y:t.y,children:t.text}),(0,V.jsx)(Pe,{children:(0,V.jsx)(yn,{isVisible:!e})}),(0,V.jsx)(Se,{className:"is-interactive",onClick:p,whileHover:{scale:1.1},whileTap:{scale:.9},children:"\ud83d\udcd6"}),(0,V.jsx)(N.N,{children:r&&(0,V.jsx)(Te,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.6},children:(0,V.jsxs)(Ie,{children:["\u2728 ",r.name," Awakened"]})})}),(0,V.jsx)(N.N,{children:e&&(0,V.jsx)(oe,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p,children:(0,V.jsx)(se,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:n=>n.stopPropagation(),children:(0,V.jsx)(yn,{isVisible:!0})})})})]})}},938:(n,e,a)=>{a.d(e,{N:()=>m});var r=a(43),i=a(293);function t(){const n=(0,r.useRef)(!1);return(0,i.E)(()=>(n.current=!0,()=>{n.current=!1}),[]),n}var o=a(65);var s=a(674),d=a(930);class l extends r.Component{getSnapshotBeforeUpdate(n){const e=this.props.childRef.current;if(e&&n.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(n){let{children:e,isPresent:a}=n;const i=(0,r.useId)(),t=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:n,height:e,top:r,left:s}=o.current;if(a||!t.current||!n||!e)return;t.current.dataset.motionPopId=i;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(n,"px !important;\n            height: ").concat(e,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(d)}},[a]),r.createElement(l,{isPresent:a,childRef:t,sizeRef:o},r.cloneElement(e,{ref:t}))}const p=n=>{let{children:e,initial:a,isPresent:i,onExitComplete:t,custom:o,presenceAffectsLayout:l,mode:p}=n;const f=(0,d.M)(g),x=(0,r.useId)(),b=(0,r.useMemo)(()=>({id:x,initial:a,isPresent:i,custom:o,onExitComplete:n=>{f.set(n,!0);for(const e of f.values())if(!e)return;t&&t()},register:n=>(f.set(n,!1),()=>f.delete(n))}),l?void 0:[i]);return(0,r.useMemo)(()=>{f.forEach((n,e)=>f.set(e,!1))},[i]),r.useEffect(()=>{!i&&!f.size&&t&&t()},[i]),"popLayout"===p&&(e=r.createElement(c,{isPresent:i},e)),r.createElement(s.t.Provider,{value:b},e)};function g(){return new Map}var f=a(190);var x=a(129);const b=n=>n.key||"";const m=n=>{let{children:e,custom:a,initial:s=!0,onExitComplete:d,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:g="sync"}=n;(0,x.V)(!l,"Replace exitBeforeEnter with mode='wait'");const m=(0,r.useContext)(f.L).forceRender||function(){const n=t(),[e,a]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{n.current&&a(e+1)},[e]);return[(0,r.useCallback)(()=>o.Gt.postRender(i),[i]),e]}()[0],u=t(),h=function(n){const e=[];return r.Children.forEach(n,n=>{(0,r.isValidElement)(n)&&e.push(n)}),e}(e);let v=h;const y=(0,r.useRef)(new Map).current,A=(0,r.useRef)(v),w=(0,r.useRef)(new Map).current,k=(0,r.useRef)(!0);var j;if((0,i.E)(()=>{k.current=!1,function(n,e){n.forEach(n=>{const a=b(n);e.set(a,n)})}(h,w),A.current=v}),j=()=>{k.current=!0,w.clear(),y.clear()},(0,r.useEffect)(()=>()=>j(),[]),k.current)return r.createElement(r.Fragment,null,v.map(n=>r.createElement(p,{key:b(n),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:c,mode:g},n)));v=[...v];const z=A.current.map(b),E=h.map(b),P=z.length;for(let r=0;r<P;r++){const n=z[r];-1!==E.indexOf(n)||y.has(n)||y.set(n,void 0)}return"wait"===g&&y.size&&(v=[]),y.forEach((n,e)=>{if(-1!==E.indexOf(e))return;const i=w.get(e);if(!i)return;const t=z.indexOf(e);let o=n;if(!o){const n=()=>{y.delete(e);const n=Array.from(w.keys()).filter(n=>!E.includes(n));if(n.forEach(n=>w.delete(n)),A.current=h.filter(a=>{const r=b(a);return r===e||n.includes(r)}),!y.size){if(!1===u.current)return;m(),d&&d()}};o=r.createElement(p,{key:b(i),isPresent:!1,onExitComplete:n,custom:a,presenceAffectsLayout:c,mode:g},i),y.set(e,o)}v.splice(t,0,o)}),v=v.map(n=>{const e=n.key;return y.has(e)?n:r.createElement(p,{key:b(n),isPresent:!0,presenceAffectsLayout:c,mode:g},n)}),r.createElement(r.Fragment,null,y.size?v:v.map(n=>(0,r.cloneElement)(n)))}}}]);
//# sourceMappingURL=85.bed220a8.chunk.js.map